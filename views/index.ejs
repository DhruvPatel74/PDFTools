<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PDF Tools</title>
    <link rel="stylesheet" href="/assets/css/index.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
</head>
<body>
    <%- include("./components/header") %>
        <section class="hero">
            <!-- Left Side (Text Content) -->
            <div class="hero-content">
                <h1>
                    <%= title %>
                </h1>
                <p><%- description %></p>
                <a href="/alltools">
                    <button id="exploreBtn">Explore Tools</button>
                </a>
            </div>

            <!-- Right Side (Lottie Animation) -->
            <div class="hero-animation">
                <dotlottie-player src="https://lottie.host/7b327663-6296-42cd-a8ab-9c4a2102ad22/HAOvdFm31Y.lottie"
                    background="transparent" speed="1" loop autoplay></dotlottie-player>

            </div>
        </section>

        <section class="tools py-5">
            <div class="container">
                <div class="header text-center mb-5">
                    <h1>Most Popular</h1>
                </div>
                <div class="row gy-4">
                    <% tools.forEach(tool=> { %>
                        <div class="col-md-4">
                            <a href="<%= tool.link %>" class="card tool-card h-100 text-center text-decoration-none">
                                <div class="card-icon py-4">
                                    <i class="fas <%= tool.icon %> fa-6x <%= tool.color %>"></i>
                                </div>
                                <div class="card-body">
                                    <h5 class="card-title">
                                        <%=     tool.name %>
                                    </h5>
                                    <p class="card-text">
                                        <%= tool.description %>
                                    </p>
                                </div>
                            </a>
                        </div>
                        <% }) %>
                </div>
            </div>
        </section>

        <section id="info" class="container my-5">
            <div class="row align-items-center">
                <div class="header text-center">
                    <h1>How to Combine PDF Files Online</h1>
                </div>
                <div class="info col-md-6 mb-4 text-center">
                    <dotlottie-player src="https://lottie.host/aa55b165-2c2c-43c7-bfd2-321526015c42/f34mlPtEh7.lottie"
                        background="transparent" speed="1" style="width: 250px; height: 250px" loop autoplay>
                    </dotlottie-player>
                </div>
                <div class="col-md-6">
                    <ol>
                        <% steps.forEach(step=> { %>
                            <li>
                                <%= step %>
                            </li>
                            <% }) %>
                    </ol>
                </div>
            </div>
        </section>

        <section id="features-section" class="py-5 bg-light">
            <div class="container">
                <div class="row gy-4 text-center">
                    <% features.forEach(feature=> { %>
                        <div class="column col-md-4">
                            <div class="card feature-card p-4 shadow-sm h-100">
                                <div class="text-center">
                                    <i class="fas <%= feature.icon %> fa-4x <%= feature.color %> mb-4"></i>
                                    <h3 class="h5 mt-3">
                                        <%= feature.title %>
                                    </h3>
                                </div>
                                <p class="mt-3">
                                    <%= feature.description %>
                                </p>
                            </div>
                        </div>
                        <% }) %>
                </div>
            </div>
        </section>

        <section class="qna py-5">
            <div class="container">
                <div class="header text-center mb-4">
                    <h1>Questions and Answers</h1>
                </div>
                <div class="steps">
                    <div class="instructions">
                        <ol class="list-group">
                            <% qna.forEach(item=> { %>
                                <li class="list-group-item">
                                    <b>
                                        <%= item.question %>
                                    </b>
                                    <p>
                                        <%= item.answer %>
                                    </p>
                                </li>
                                <% }); %>
                        </ol>
                    </div>
                </div>
            </div>
        </section>

        <section id="trusted-software" class="py-5 bg-light">
            <div class="container text-center">
                <h2 class="display-4 mb-3">
                    <%= trustedSoftware.title %>
                </h2>
                <p class="lead">
                    <%= trustedSoftware.description %>
                </p>
            </div>
        </section>

        <!-- Review Submission Form -->
        <div class="container my-5" id="reviews">
            <h1 class="text-center mb-4">What Our Users Say</h1>
            <p class="text-center mb-5">See what our users have to say about our tools and services.</p>
    
            <!-- Review Submission Form -->
            <div class="row justify-content-center">
                <div class="col-md-6">
                    <div class="card p-4 shadow-sm">
                        <h4 class="text-center mb-3">Leave a Review</h4>
                        <form action="/submit-review" method="POST" onsubmit="return validateForm()">
                            <div class="mb-3">
                                <label class="form-label">Name</label>
                                <input type="text" class="form-control" name="name" id="name" required>
                            </div>
                            
                            <div class="mb-3">
                                <label class="form-label">Image URL (Optional)</label>
                                <input type="text" class="form-control" name="image" id="image">
                            </div>
                            
                            <div class="mb-3">
                                <label class="form-label">Your Review</label>
                                <textarea class="form-control" name="review" id="review" rows="3" required></textarea>
                            </div>
                        
                            <!-- Star Rating System -->
                            <div class="mb-3">
                                <label class="form-label">Rate Us</label>
                                <div id="stars">
                                    <span class="star" onclick="setRating(1)">★</span>
                                    <span class="star" onclick="setRating(2)">★</span>
                                    <span class="star" onclick="setRating(3)">★</span>
                                    <span class="star" onclick="setRating(4)">★</span>
                                    <span class="star" onclick="setRating(5)">★</span>
                                </div>
                                <input type="hidden" id="ratingInput" name="rating" value="5"> <!-- Default rating -->
                            </div>
                        
                            <button type="submit" id="reviewbtn" class="btn btn-primary w-100">Submit Review</button>
                        </form>
                        
                        <script>
                            // Store the selected rating
                            let currentRating = 0;

                            // Set rating function
                            function setRating(rating) {
                                // Ensure that the rating is at least 1
                                if (rating < 1) rating = 1;

                                currentRating = rating;

                                // Update the visible stars
                                updateStars();

                                // Update the hidden input value with the current rating
                                document.getElementById('ratingInput').value = currentRating;
                            }

                            // Update the star colors based on the current rating
                            function updateStars() {
                                const stars = document.querySelectorAll('.star');
                                stars.forEach((star, index) => {
                                    if (index < currentRating) {
                                        star.textContent = '★';  // Filled star
                                    } else {
                                        star.textContent = '☆';  // Empty star
                                    }
                                });
                            }

                            // Initialize the page with empty stars
                            document.addEventListener('DOMContentLoaded', function () {
                                updateStars();  // Initially set the stars as empty
                            });
                                                        // Form Validation
                            function validateForm() {
                                const name = document.getElementById('name').value.trim();
                                const review = document.getElementById('review').value.trim();
                                const rating = currentRating;
                        
                                // Check if name is empty
                                if (name === "") {
                                    alert("Please enter your name.");
                                    return false;
                                }
                        
                                // Check if review is empty
                                if (review === "") {
                                    alert("Please enter your review.");
                                    return false;
                                }
                        
                                // Check if rating is selected
                                if (rating === 0) {
                                    alert("Please select a rating.");
                                    return false;
                                }
                        
                                // If all validations pass, allow form submission
                                return true;
                            }

                            

                            
                        </script>                        
                    </div>
                </div>
            </div>

            <script>
                // Star rating functionality
                function setRating(rating) {
                    document.getElementById('ratingInput').value = rating;
            
                    const stars = document.querySelectorAll('#stars .star');
                    stars.forEach((star, index) => {
                        if (index < rating) {
                            star.textContent = '★';
                            star.style.color = '#ffc107';
                        } else {
                            star.textContent = '☆';
                            star.style.color = 'black';
                        }
                    });
                }
            
                document.addEventListener('DOMContentLoaded', function () {
                    setRating(0);
                });
                
            </script>
            
            <!-- Display Top 5 Reviews -->
            <div class="mt-5">
                <h2 class="text-center">Recent Reviews</h2>
                <div class="row">
                    <% reviews.forEach(review => { %>
                        <div class="col-md-4 mb-3">
                            <div class="card p-3 shadow-sm text-center">
                                <div class="card-body">
                                    <!-- User Name Placeholder Styled Like an Image -->
                                    <div class="name-placeholder mx-auto d-flex align-items-center justify-content-center" 
                                         style="width: 100px; height: 100px; border-radius: 50%; background-color: #f0f0f0; 
                                                font-weight: bold; font-size: 40px; color: #333; text-transform: uppercase;">
                                        <%= review.name.charAt(0).toUpperCase() %>
                                    </div>
                        
                                    <h5 class="card-title mt-1.5"><%= review.name.toUpperCase() %></h5> <!-- Full Name in Uppercase -->
                                    <p class="card-text"><%= review.review %></p>
                                    <p class="text-warning mt-2">Rating: 
                                        <% for(let i = 0; i < review.rating; i++) { %>
                                            <span style="font-size: 24px; margin-right: 1.2px;">★</span>
                                        <% } %>
                                        <% for(let i = review.rating; i < 5; i++) { %>
                                            <span style="font-size: 24px; margin-right: 1.5px;">☆</span>
                                        <% } %>
                                    </p>
                                    
                                </div>
                            </div>
                        </div>
                        
                    <% }); %>
                </div>
            </div>
    
        </div>
        


        <%- include("./components/footer.ejs") %>
            <script src="https://unpkg.com/@dotlottie/player-component@2.7.12/dist/dotlottie-player.mjs"
                type="module"></script>
                
</body>

</html>